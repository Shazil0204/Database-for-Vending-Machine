
@page "/ALL Vending Machines"
@model AdminSide.Pages.showAllModel
@{
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link href="/css/checkbox.css" rel="stylesheet">
<link href="/css/showAll.css" rel="stylesheet" />

<div class="card-container">
    @foreach (var item in Model.VMs())
    {
        var backgroundColor = item.Value ? "green" : "red";
        var statusText = item.Value ? "ONLINE" : "OFFLINE";

        <form method="post" asp-page-handler="UpdateCurrentVM">
            <input type="hidden" name="cityName" value="@item.Key" />
            <button type="submit" class="card-button">
                <div class="card">
                    <img src="/Images/showAll.png" alt="Image Description">
                    <div class="card-text">
                        <h1>@item.Key</h1>
                        <h3>Is Vending Machine Operational</h3>
                        <div style="background-color:@backgroundColor; padding:10px; border-radius: 20px; border: 3px solid black;">
                            <span>@statusText</span>
                        </div>
                    </div>
                </div>
            </button>
        </form>
    }
</div>